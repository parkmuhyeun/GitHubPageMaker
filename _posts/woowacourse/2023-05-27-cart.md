---
layout: post
title: ìš°í…Œì½” - ì¥ë°”êµ¬ë‹ˆ ë¯¸ì…˜ íšŒê³ 
subtitle: ë¶€ì œëª© ì˜ˆì‹œ
tags: woowacourse spring cart
description: >
  ì¥ë°”êµ¬ë‹ˆ ë¯¸ì…˜ì„ ì§„í–‰í•˜ë©´ì„œ ìˆì—ˆë˜ ê³¼ì •ì„ íšŒê³ í•´ë³´ì
sitemap: true
hide_last_modified: true
categories:
  - woowacourse
---

ê·¸ë™ì•ˆ ë„ˆë¬´ ë°”ë¹ ì„œ ë¯¸ì…˜ íšŒê³ ë¥¼ ì •ë§ ì˜¤ëœë§Œì— ì“´ë‹¤.. ì—­ì‹œ í•œë²ˆ ì¼ì„ ë¯¸ë£¨ë©´ ê³„ì† ë¯¸ë£¨ê²Œ ë˜ëŠ” ê±° ê°™ì•„ ë  ìˆ˜ ìˆìœ¼ë©´ ë¹¨ë¦¬ë¹¨ë¦¬ ëë‚´ëŠ” ê²Œ ì œì¼ ì¢‹ì€ ê²ƒ ê°™ë‹¤. ëŠ¦ì€ ë§Œí¼ ë¹ ë¥´ê²Œ ë³¸ë¬¸ìœ¼ë¡œ ê°€ë³´ì!

--- 

## Save í›„ ì–´ë–¤ ê±¸ ë°˜í™˜ê°’ìœ¼ë¡œ í•˜ëŠ”ê²Œ ì¢‹ì„ê¹Œ?

```java
    public Long save(final ProductEntity productEntity) {
        final SqlParameterSource parameterSource = new BeanPropertySqlParameterSource(productEntity);
        return simpleJdbcInsert.executeAndReturnKey(parameterSource).longValue();
    }
```

ë°ì´í„°ë² ì´ìŠ¤ì— ë‹¨ìˆœíˆ ì €ì¥ë§Œ í•˜ê³  ë°˜í™˜ê°’ìœ¼ë¡œ ì•„ë¬´ê²ƒë„ ì•ˆ ì¤„ ìˆ˜ë„ ìˆì„ ê²ƒì´ë‹¤. ì‹¤ì œë¡œ ì²˜ìŒì— ì´ë²ˆ ë¯¸ì…˜ì—ì„œ ë”±íˆ ì €ì¥í•˜ê³  ë‚˜ì„œ ë°˜í™˜í•œ ê°’ì„ ì“¸ ì¼ì´ ì—†ì„ ê±° ê°™ì•„ voidë¡œ ë°˜í™˜í•˜ì˜€ë‹¤. í•˜ì§€ë§Œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê³¼ì •ì—ì„œ ì—°ê´€ëœ ê°ì²´ ê°„ì˜ ê´€ê³„ë¥¼ ì„¤ì •í•´ ì¤„ ë•Œ ë°˜í™˜ê°’ì´ ì—†ëŠ” ê²½ìš° ì§ì ‘ ì°¾ì•„ ë„£ì–´ì¤˜ì•¼ ë˜ê±°ë‚˜ ê° ê°ì²´ì˜ idë¥¼ 1ë¡œ ì´ˆê¸°í™”ì‹œí‚¤ëŠ” ì¿¼ë¦¬ë¥¼ ë„£ì–´ì„œ idë¥¼ ì˜ˆì¸¡í•´ì„œ ë„£ì–´ì¤˜ì•¼ ë˜ëŠ” ë²ˆê±°ë¡œì›€ì´ ìƒê²¼ë‹¤.

```java

  @Test
  void saveCart(){
    //ë°˜í™˜ê°’ ì—†ëŠ” ê²½ìš°
    productDao.save(new ProductEntity("ì¹˜í‚¨", "testUrl", 20000));
    memberDao.save(new MemberEntity("testEmail", "testPassword"));

    //daoì—ì„œ ì €ì¥í•œ ê°ì²´ë¥¼ ì°¾ê±°ë‚˜ ì˜ˆì¸¡í•´ì„œ idë¥¼ ì—°ê´€ê°ì²´ì— ì„¤ì •í•´ì¤˜ì•¼ ë¨

    h2CartDao.save(new CartEntity(?, ?));
  }
```

ìœ„ì²˜ëŸ¼ í•˜ëŠ” ê²½ìš° ì¶”ê°€ë¡œ ì¡°íšŒí•˜ëŠ” ë¶ˆí•„ìš”í•œ ì¼ì´ë‚˜ ë§¤ í…ŒìŠ¤íŠ¸ë§ˆë‹¤ idë¥¼ ì´ˆê¸°í™”(ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ê°€ ìˆì„ ê²½ìš° rollback í•´ì¤˜ë„ ë°ì´í„°ëŠ” ì´ˆê¸°í™”ë˜ì§€ë§Œ id ì‹œì‘ ê°’ì€ ì´ˆê¸°í™”ë˜ì§€ ì•ŠìŒ) í•´ì„œ ë„£ì–´ì¤˜ì•¼ ë˜ê¸° ë•Œë¬¸ì— idì— ì¢…ì†ì ì´ë¼ íŒë‹¨í•˜ì˜€ê³  save í•œ í›„ ë°˜í™˜ ê°’ì„ ì£¼ëŠ” ê²Œ ì¢‹ì„ ê²ƒì´ë¼ ìƒê°í•˜ì˜€ë‹¤. ê·¸ë¦¬ê³  í”„ë¡œë•ì…˜ ì½”ë“œì—ì„œë„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë” ë³µì¡í•´ì§€ë©´ ì´ ì €ì¥í•œ ê°’ì„ ë°”íƒ•ìœ¼ë¡œ í›„ì— ê°ì²´ ê°„ì˜ ê´€ê³„ ì„¤ì •ê³¼ ë°ì´í„° ê²€ìƒ‰ì„ ê°„í¸í•˜ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤!

```java
  @Test
  void saveCart(){
    long productId = productDao.save(new ProductEntity("ì¹˜í‚¨", "testUrl", 20000));
    long memberId = memberDao.save(new MemberEntity("testEmail", "testPassword"));

    h2CartDao.save(new CartEntity(productId, memberId));
  }
```

ê·¸ë ‡ë‹¤ë©´ ë°˜í™˜ ê°’ìœ¼ë¡œ ì–´ë–¤ ê±¸ ì£¼ëŠ” ê²Œ ì¢‹ì„ê¹Œ? id? ì €ì¥í•œ ê°ì²´? ì¼ë°˜ì ìœ¼ë¡œëŠ” ê°ì²´ì˜ ê³ ìœ  ì‹ë³„ìì¸ idë§Œ ì œê³µí•´ì„œ ê´€ê³„ ì„¤ì • ë° ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ê³  ì €ì¥í•œ ê°ì²´ë¥¼ ì´ìš©í•´ì„œ ì¶”ê°€ì ì¸ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ê²½ìš°ì—ëŠ” ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.

## ë„ë©”ì¸ë¶€í„° ì„¤ê³„? ë°ì´í„°ë² ì´ìŠ¤ë¶€í„° ì„¤ê³„?

ì˜ˆì „ë¶€í„° í”„ë¡œì íŠ¸ë¥¼ í•  ë•Œ DBë¶€í„° ì„¤ê³„ë¥¼ í•˜ê³  ë“¤ì–´ê°€ì„œ ë‹¹ì—°íˆ DBë¶€í„° ì„¤ê³„ë¥¼ í•´ì•¼ ë˜ëŠ” ì¤„ ì•Œì•˜ë‹¤. í•˜ì§€ë§Œ, [ì´ì „ ë¯¸ì…˜]ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ì¤‘ì‹¬ì ìœ¼ë¡œ ì„¤ê³„ë¥¼ í•¨ìœ¼ë¡œ ì¨ ë‹¨ì ë“¤ì„ ì²´ê°ì„ í–ˆì—ˆê¸° ë•Œë¬¸ì— ìµœê·¼ì— ì´ê²ƒì— ëŒ€í•´ ë§¤ìš° ê³ ë¯¼ì´ ë§ì•˜ë‹¤. DBì— êµ³ì´ ì €ì¥í•  í•„ìš” ì—†ëŠ” í•„ë“œë“¤ì´ ìƒì„±ë¨ìœ¼ë¡œ ì¨ ì½”ë“œë¥¼ ì§¤ ë•Œ ê°ì²´ì§€í–¥ì ì´ì§€ ëª»í•œ ì½”ë“œë“¤ì„ ìƒì„±í•˜ê²Œ ë˜ì—ˆë‹¤.

ê·¸ë˜ì„œ ë¦¬ë·°ì–´ë‹˜ê»˜ ì˜ê²¬ì„ í•œë²ˆ êµ¬í•´ë´¤ë‹¤!

>ì–´ë–¤ ìˆœì„œë¡œ ì„¤ê³„í•˜ë”ë¼ë„ ê²°êµ­ êµ¬í˜„í•˜ë‹¤ë³´ë©´ ìš”êµ¬ì‚¬í•­ì´ ë³€ë™/ì¶”ê°€ë˜ëŠ” ì¼ë„ ìƒê¸°ê³ 
ì„¤ê³„í•  ë•ŒëŠ” ë¯¸ì²˜ íŒŒì•…í•˜ì§€ ëª»í–ˆë˜ ì—£ì§€ì¼€ì´ìŠ¤ë“¤ë„ ë‚˜ì˜¤ê¸° ë•Œë¬¸ì—
ê²°êµ­ ì„¤ê³„ë¥¼ ì¡°ê¸ˆ ìˆ˜ì •í•˜ëŠ” ì¼ì´ ìƒê¸°ê¸° ë§ˆë ¨ì´ë”ë¼êµ¬ìš” ğŸ˜‚

>í”„ë¡œì íŠ¸ ê·œëª¨ì— ë”°ë¼, ìš”êµ¬ì‚¬í•­ì˜ ë³µì¡ë„ì— ë”°ë¼ ê·¸ë•Œê·¸ë•Œ ë‹¬ë¼ì§€ê¸´ í•˜ì§€ë§Œ
ë³´í†µì€ í™”ë©´ì„ ë³´ë©° í•„ìš”í•œ API ë¦¬ìŠ¤íŠ¸ì—…ì„ í•˜ê³  ë„ë©”ì¸ ì„¤ê³„ì— ë“¤ì–´ê°€ëŠ” í¸ì…ë‹ˆë‹¤
ì„¤ê³„ì—ëŠ” ì •ë‹µì´ ì—†ê¸° ë•Œë¬¸ì— ë¬´ë¯¼ì´ ê°€ì¥ í¸í•˜ê³  ìì‹ ìˆëŠ” ë°©ë²•ìœ¼ë¡œ ì§„í–‰í•´ë„ ë¬´ë°©í•˜ë‹¤ê³  ìƒê°í•´ìš” :)

ì–´ë–»ê²Œ ì„¤ê³„í•˜ë“  ì •ë‹µì€ ì—†ê² ì§€ë§Œ ë‚˜ë§Œì˜ ê¸°ì¤€ì´ í•„ìš”í•  ê²ƒ ê°™ë‹¤. ìš°ì„  DBë¶€í„° ì„¤ê³„í•˜ëŠ” ë°©ì‹ì€ ì•„ë¬´ë˜ë„ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ì™€ ê´€ê³„ë¥¼ ë¨¼ì € ì„¤ê³„í•œ ë‹¤ìŒ ê±°ê¸°ì— ë§ì¶° ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„¤ê³„í•˜ëŠ” ê²ƒì´ë¯€ë¡œ ì¢€ ë” ì„±ëŠ¥ ìµœì í™”ì— ë§ì¶°ì ¸ìˆì§€ ì•Šë‚˜ ìƒê°ì´ ë“ ë‹¤. ê·¸ë˜ì„œ ëŒ€ê·œëª¨ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‹œìŠ¤í…œì´ë‚˜ ì„±ëŠ¥ì´ ì¤‘ì‹œë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•œ ë°©ì‹ì¸ ê²ƒ ê°™ë‹¤.

ì•„ì§ í˜„ì—…ì„ ê²½í—˜í•´ ë³´ì§€ ì•Šì•„ì„œ ëŒ€ê·œëª¨ë‹ˆ ì„±ëŠ¥ì´ë‹ˆ ì˜ ëª¨ë¥´ê² ì§€ë§Œ ì§€ê¸ˆ ìš°ì„ í•´ì„œ ì œì¼ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•˜ëŠ” ê±´ ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ê³¼ ìš”êµ¬ì‚¬í•­ì´ë¼ê³  ìƒê°í•˜ê¸° ë•Œë¬¸ì— ì—¬ê¸°ì— ì§‘ì¤‘í•  ìˆ˜ ìˆëŠ” ë„ë©”ì¸ë¶€í„° ì„¤ê³„í•˜ëŠ”ê²Œ í˜„ì¬ë¡œì„œëŠ” ìµœì„ ì´ë¼ê³  ìƒê°í•œë‹¤. ê·¸ë ‡ê²Œ ì„¤ê³„í•˜ê³  ë‚˜ì„œ í›„ì— ì„±ëŠ¥ì´ ê°œì„ í•  í•„ìš”ê°€ ìˆì„ ë•Œ ìµœì í™”ë¥¼ í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.

[ì´ì „ ë¯¸ì…˜]: https://parkmuhyeun.github.io/woowacourse/2023-04-29-Web-Racing-Car/#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A4%91%EC%8B%AC-%EA%B4%80%EC%A0%90-%EC%84%A4%EA%B3%84

## ì˜¬ë°”ë¥¸ ì˜¤ë¥˜ ë©”ì‹œì§€

ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” ë¬¸ì œê°€ ë°œìƒí•  ë•Œ ê°œë°œìê°€ ì‚¬ìš©ìì™€ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ì£¼ìš” ë°©ë²•ì´ë¼ í•  ìˆ˜ ìˆë‹¤. ì˜¬ë°”ë¥´ê²Œ ì‘ì„±ëœ ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” ì‚¬ìš©ìì—ê²Œ ì–´ë–¤ ë¬¸ì œì ì´ ìˆëŠ”ì§€, ì–´ë–»ê²Œ í•´ê²°í•´ì•¼ í•˜ëŠ”ì§€ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì œê³µí•˜ì§€ë§Œ, ì˜ëª»ëœ ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” ì˜¤íˆë ¤ ì‚¬ìš©ìì—ê²Œ í˜¼ë€ì„ ì¤„ ìˆ˜ ìˆë‹¤. ì˜ëª»ëœ ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
- ì‹¤í–‰ ë¶ˆê°€ëŠ¥
- ì• ë§¤ëª¨í˜¸í•¨
- ì–´ë–»ê²Œ í•´ê²°í•´ì•¼ í•˜ëŠ”ì§€ ì„¤ëª… ì—†ìŒ

### ì–´ë–»ê²Œ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì‘ì„±í•˜ë©´ ì¢‹ì„ê¹Œ?

ì˜¬ë°”ë¥¸ ì˜¤ë¥˜ ë©”ì‹œì§€ ì‘ì„±ì„ ìœ„í•œ ëª‡ê°€ì§€ ë°©ë²•ë“¤ì„ ì•Œì•„ë³´ì.

### ì¡°ìš©íˆ ì‹¤íŒ¨í•˜ì§€ ë§ˆë¼

ì‹¤íŒ¨ëŠ” í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì‹¤íŒ¨ë¥¼ ë³´ê³  í•˜ì§€ ì•ŠëŠ” ê²ƒì€ ì¹˜ëª…ì ì´ë‹¤. ì™œ ì‹¤íŒ¨í–ˆëŠ”ì§€ ì•Œë¦¬ì§€ ì•Šìœ¼ë©´ ì‚¬ìš©ìë“¤ì—ê²Œ ì˜¬ë°”ë¥¸ ì •ë³´ë¥¼ ì „ë‹¬í•  ìˆ˜ ì—†ë‹¤. ì‚¬ëŒë“¤ì´ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì˜¤ìš©í•˜ëŠ” ê±¸ ì™„ì „íˆ ì œê±°í•  ìˆ˜ëŠ” ì—†ì§€ë§Œ ìµœì†Œí™”í•˜ë ¤ê³  ë…¸ë ¥í•´ì•¼í•œë‹¤.

### ì˜¤ë¥˜ì˜ ì›ì¸ íŒŒì•…
ë¬´ì—‡ì´ ì˜ëª»ë˜ì—ˆëŠ”ì§€ ì‚¬ìš©ìì—ê²Œ êµ¬ì²´ì ì´ê³  ì •í™•í•˜ê²Œ ì•Œë ¤ì¤˜ì•¼ ëœë‹¤. ì• ë§¤ëª¨í˜¸í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” ì‚¬ìš©ìì—ê²Œ í˜¼ë€ì„ ì¤„ ìˆ˜ ìˆë‹¤.

> â— Not recommended
>
> ì˜ëª»ëœ ë””ë ‰í† ë¦¬ì…ë‹ˆë‹¤.
>
> ğŸ‘ Recommended
>
> ì§€ì •ëœ ë””ë ‰í† ë¦¬ê°€ ì¡´ì¬í•˜ì§€ë§Œ ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ ë””ë ‰í† ë¦¬ì— íŒŒì¼ì„ ì¶”ê°€í•˜ë ¤ë©´ ë””ë ‰í† ë¦¬ê°€ ì“°ê¸° ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤. [ì´ ë””ë ‰í† ë¦¬ë¥¼ ì“°ê¸° ê°€ëŠ¥í•˜ê²Œ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•œ ì„¤ëª….]

### ì‚¬ìš©ìì˜ ìœ íš¨í•˜ì§€ ì•Šì€ ì…ë ¥

ì‚¬ìš©ìê°€ ì˜ëª»ëœ ì…ë ¥ì„ í•  ê²½ìš° ì˜¤ë¥˜ë©”ì‹œì§€ëŠ” ì˜ëª»ëœ ì…ë ¥ì„ ì•Œë ¤ì¤˜ì•¼ ëœë‹¤.

> â— Not recommended
>
> ìš°í¸ë²ˆí˜¸ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.
>
> ğŸ‘ Recommended
>
> ë¯¸êµ­ ìš°í¸ ë²ˆí˜¸ëŠ” 5ìë¦¬ ë˜ëŠ” 9ìë¦¬ë¡œ êµ¬ì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì§€ì •ëœ ìš°í¸ ë²ˆí˜¸(4872953)ì—ëŠ” 7ìë¦¬ ìˆ«ìê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

### ìš”êµ¬ ì‚¬í•­ ë° ì œì•½ ì¡°ê±´ ì§€ì •
ì‚¬ìš©ìê°€ ì‹œìŠ¤í…œì˜ í•œê³„ë¥¼ ì•Œê³  ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— ìš”êµ¬ ì‚¬í•­ê³¼ ì œì•½ ì¡°ê±´ì„ ì´í•´í•˜ë„ë¡ êµ¬ì²´ì ìœ¼ë¡œ ì•Œë ¤ì¤˜ì•¼ ëœë‹¤. 

> â— Not recommended
>
> ì²¨ë¶€íŒŒì¼ì˜ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤.
>
> ğŸ‘ Recommended
>
> ì²¨ë¶€íŒŒì¼ì˜ ì´ í¬ê¸°(14MB)ê°€ í—ˆìš© í•œë„(10MB)ë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤. [ê°€ëŠ¥í•œ ì†”ë£¨ì…˜ì— ëŒ€í•œ ì„¸ë¶€ ì •ë³´.]

### ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²• ì„¤ëª…
ì‹¤í–‰ í•  ìˆ˜ ìˆëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤. ì¦‰, ë¬¸ì œì˜ ì›ì¸ì„ ì„¤ëª…í•œ í›„ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•´ì•¼í•œë‹¤.

> â— Not recommended
>
> ì¥ì¹˜ì˜ í´ë¼ì´ì–¸íŠ¸ ì•±ì€ ë” ì´ìƒ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
>
> ğŸ‘ Recommended
>
> ì¥ì¹˜ì˜ í´ë¼ì´ì–¸íŠ¸ ì•±ì€ ë” ì´ìƒ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ ì•±ì„ ì—…ë°ì´íŠ¸í•˜ë ¤ë©´ ì•± ì—…ë°ì´íŠ¸ ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.

### ê°„ê²°í•˜ê²Œ ì‘ì„±í•˜ë¼
ë¶ˆí•„ìš”í•œ í…ìŠ¤íŠ¸ëŠ” ì˜ë¼ë‚´ê³  ê°„ê²°í•˜ê³ ë„ ì¤‘ìš”í•œ ê²ƒì„ ì‘ì„±í•´ì•¼í•œë‹¤.

> â— Not recommended
>
> ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìœ¼ë©° êµ¬ë¶„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì„ íƒí•œ í•­ëª©ì´ í´ëŸ¬ìŠ¤í„°ì— ì—†ìŠµë‹ˆë‹¤. [í´ëŸ¬ìŠ¤í„°ì—ì„œ ìœ íš¨í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ëŠ” ë°©ë²•ì— ëŒ€í•œ ì„¤ëª…]
>
> ğŸ‘ Recommended
>
> <ì´ë¦„> ë¦¬ì†ŒìŠ¤ê°€ <ì´ë¦„> í´ëŸ¬ìŠ¤í„°ì— ì—†ìŠµë‹ˆë‹¤. [í´ëŸ¬ìŠ¤í„°ì—ì„œ ìœ íš¨í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ëŠ” ë°©ë²•ì— ëŒ€í•œ ì„¤ëª…]

### ì´ì¤‘ ë¶€ì •ì„ í”¼í•˜ë¼
ì´ì¤‘ ë¶€ì •ì€ ë§ì˜ ëœ»ì„ ì–´ë µê²Œ ë§Œë“¤ê¸° ë•Œë¬¸ì— í”¼í•˜ëŠ”ê²Œ ì¢‹ë‹¤.

> â— Not recommended
>
> ê²½ë¡œ ì´ë¦„ ì— ëŒ€í•œ ë²”ìš© ì½ê¸° ê¶Œí•œì€ ìš´ì˜ ì²´ì œê°€ ì•¡ì„¸ìŠ¤ë¥¼ ê¸ˆì§€í•˜ëŠ” ê²ƒì„ ë°©ì§€í•©ë‹ˆë‹¤.
>
> ğŸ‘ Recommended
>
> ê²½ë¡œ ì´ë¦„ ì— ëŒ€í•œ ë²”ìš© ì½ê¸° ê¶Œí•œì´ ìˆìœ¼ë©´ ëˆ„êµ¬ë‚˜ ì´ íŒŒì¼ì„ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë“  ì‚¬ëŒì—ê²Œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ê²ƒì€ ë³´ì•ˆ ê²°í•¨ì…ë‹ˆë‹¤. ë…ìë¥¼ ì œí•œí•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ í•˜ì´í¼ë§í¬ë¥¼ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.

### ëŒ€ìƒìë¥¼ ê³ ë ¤í•˜ë¼
í•´ë‹¹ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì½ëŠ” ì‚¬ëŒì€ ê°œë°œìê°€ ì•„ë‹ í™•ë¥ ì´ ë” ë†’ë‹¤. ë‚˜ì—ê²Œ ì¹œìˆ™í•œ ìš©ì–´ê°€ ëŒ€ìƒ ì²­ì¤‘ë“¤ì€ ìµìˆ™í•˜ì§€ ì•Šì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ëŒ€ìƒìë¥¼ ê³ ë ¤í•˜ì

> â— Not recommended
>
> ì„œë²„ CPU ìš©ëŸ‰ì˜ 92%ì—ì„œ ì‹¤í–‰ ì¤‘ì´ê¸° ë•Œë¬¸ì— ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ì‚­ì œí–ˆìŠµë‹ˆë‹¤. 5ë¶„ í›„ì— ë‹¤ì‹œ ì‹œë„í•˜ì‹­ì‹œì˜¤.
>
> ğŸ‘ Recommended
>
> ì§€ê¸ˆ ë„ˆë¬´ ë§ì€ ì‚¬ëŒë“¤ì´ ì‡¼í•‘í•˜ê³  ìˆì–´ì„œ Google ì‹œìŠ¤í…œì—ì„œ êµ¬ë§¤ë¥¼ ì™„ë£Œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. 5ë¶„ í›„ì— ë‹¤ì‹œ ì‹œë„í•˜ì‹­ì‹œì˜¤.

### ì¼ê´€ëœ ìš©ì–´ë¥¼ ì‚¬ìš©í•´ë¼
í•˜ë‚˜ì˜ ì˜¤ë¥˜ë©”ì‹œì§€ì—ì„œ ë¬´ì–¸ê°€ì˜ ì´ë¦„ì„ ì§€ì •í–ˆìœ¼ë©´ ë‹¤ë¥¸ ëª¨ë“  ì˜¤ë¥˜ ë©”ì‹œì§€ì—ë„ ì¼ê´€ë˜ê²Œ ìš©ì–´ë¥¼ ì‚¬ìš©í•˜ì

> â— Not recommended
>
> 127.0.0.1:56ì—ì„œ í´ëŸ¬ìŠ¤í„°ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. minikubeê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.
>
> ğŸ‘ Recommended
>
> 127.0.0.1:56ì—ì„œ minikubeì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. minikubeê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.

### ì˜¬ë°”ë¥¸ ì–´ì¡°ë¥¼ ì‚¬ìš©í•´ë¼
ì˜¤ë¥˜ ë©”ì‹œì§€ì˜ ì–´ì¡°ëŠ” ì‚¬ìš©ìê°€ ë©”ì‹œì§€ë¥¼ í•´ì„í•˜ëŠ” ë°©ì‹ì— ìƒë‹¹í•œ ì˜í–¥ì„ ë¯¸ì¹˜ê¸° ë•Œë¬¸ì— ë‹¤ìŒê³¼ ê°™ì€ ì˜¬ë°”ë¥¸ ì–´ì¡°ë¥¼ ì‚¬ìš©í•˜ì.

#### 1. ê¸ì •ì 

ì‚¬ìš©ìê°€ ë¬´ì—‡ì„ ì˜ëª»í–ˆëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ëŒ€ì‹ , ë°”ë¡œì¡ëŠ” ë°©ë²•ì„ ì•Œë ¤ì£¼ì

> â— Not recommended
>
> ì´ë¦„ì„ ì…ë ¥í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤
>
> ğŸ‘ Recommended
>
> ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.

#### 2. ì˜¤ë²„í•´ì„œ ì‚¬ê³¼í•˜ì§€ë§ì
"ë¯¸ì•ˆ", "ì œë°œ"ì´ë¼ëŠ” ë§ì€ í”¼í•˜ê³  ë¬¸ì œì™€ ì†”ë£¨ì…˜ì„ ëª…í™•í•˜ê²Œ ì„¤ëª…í•˜ëŠ”ë° ì§‘ì¤‘í•˜ì.

> â— Not recommended
>
> ì£„ì†¡í•©ë‹ˆë‹¤. ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì—¬ ì¼ì‹œì ìœ¼ë¡œ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¶ˆí¸ì„ ë¼ì³ë“œë ¤ ì£„ì†¡í•©ë‹ˆë‹¤. ì ì‹œ ê¸°ë‹¤ë¦° í›„ ë‹¤ì‹œ ì‹œë„í•˜ì‹­ì‹œì˜¤.
>
> ğŸ‘ Recommended
>
> Google ë¬¸ì„œë„êµ¬ì—ì„œ ì¼ì‹œì ìœ¼ë¡œ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ë¥¼ ì—´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê·¸ë™ì•ˆ ë¬¸ì„œ ëª©ë¡ì—ì„œ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ë¥¼ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ ë²„íŠ¼ìœ¼ë¡œ í´ë¦­í•˜ì—¬ ë‹¤ìš´ë¡œë“œí•´ ë³´ì„¸ìš”.

#### 3. ìœ ë¨¸ë¥¼ í”¼í•˜ì
ì˜¤ë¥˜ ë©”ì‹œì§€ì—ì„œ ìœ ë¨¸ëŠ” ì‚¬ìš©ìë¥¼ í™”ë‚˜ê²Œí•˜ê±°ë‚˜ ì˜ëª» í•´ì„í•  ìˆ˜ ìˆë„ë¡ í•˜ì—¬ ì›ë˜ ì˜¤ë¥˜ ë©”ì‹œì§€ì˜ ëª©ì ì„ ì†ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.

> â— Not recommended
>
> ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ê°€ìš”? ê°€ì„œ ì¡ì•„ì•¼ ê² ë„¤ìš” :D. (Is the server running? Better go catch it :D.)
>
> ğŸ‘ Recommended
>
> ì¼ì‹œì ìœ¼ë¡œ ì„œë²„ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ëª‡ ë¶„ í›„ì— ë‹¤ì‹œ ì‹œë„í•˜ì‹­ì‹œì˜¤.


#### 4. ì‚¬ìš©ìë¥¼ ë¹„ë‚œí•˜ì§€ ë§ˆë¼
ë¹„ë‚œë³´ë‹¤ëŠ” ë¬´ì—‡ì´ ì˜ëª»ë˜ì—ˆëŠ”ì§€ì— ëŒ€í•´ ì´ˆì ì„ ë§ì¶”ì

> â— Not recommended
>
> ì˜¤í”„ë¼ì¸ ìƒíƒœì¸ í”„ë¦°í„°ë¥¼ ì§€ì •í–ˆìŠµë‹ˆë‹¤.
>
> ğŸ‘ Recommended
>
> ì§€ì •ëœ í”„ë¦°í„°ê°€ ì˜¤í”„ë¼ì¸ì…ë‹ˆë‹¤.

## usingRecursiveComparison()

í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ í•´ë‹¹ ê°ì²´ë“¤ì˜ ë™ë“±ì„±(ë‚´ë¶€ ê°’)ì„ ë¹„êµí•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ê·¸ëŸ´ ë•Œ ë§ˆë‹¤ equalsë¥¼ ì¬ì •ì˜ í•´ì¤„ ìˆ˜ë„ ìˆê² ì§€ë§Œ usingRecursiveComparsion()ì„ ì‚¬ìš©í•˜ë©´ ì¢€ ë” í¸ë¦¬í•˜ê²Œ ë¹„êµí•  ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  íŠ¹ì • ê°’ì„ ì œì™¸í•˜ê³  ë¹„êµí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ë„ ì§€ì›í•´ì¤€ë‹¤.

ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²•ì€ ì•„ë˜ì™€ ê°™ê³  ì§ì ‘ Comparatorë¥¼ ì •ì˜í•˜ê³  ì‹¶ì€ ê²½ìš° usingComparator()ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

```java
    @Test
    void testEqual() {
        assertThat(actualObject)
            .usingRecursiveComparison()
            // .ignoringFields("id")
            // .ignoringActualNullFields()
            .isEqualTo(expectedObject);
    }
```
- íŠ¹ì • í•„ë“œê°’ ì œì™¸ ë¹„êµ - ignoringFields()
- nullê°’ ì œì™¸í•˜ê³  ë¹„êµ - ignoringActualNullFields()

## Argumentresolver í…ŒìŠ¤íŠ¸
ì´ë²ˆì— ì¥ë°”êµ¬ë‹ˆ ë¯¸ì…˜ì—ì„œ ì¸ì¦ì„ í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œ ArgumentResolverë¥¼ í…ŒìŠ¤íŠ¸ í•´ë³´ê¸°ìœ„í•´ì„  resolveArgumentì˜ íŒŒë¼ë¯¸í„°ì¸ MethodParameter, ModelAndViewContainer, NativeWebRequest, WebDataBinderFactoryë“¤ì„ ëª¨í‚¹í•˜ê±°ë‚˜ ì ì ˆí•˜ê²Œ ë„£ì–´ì¤˜ì•¼ ë˜ëŠ”ë° ì–´ì°Œ ë˜ì—ˆë“  ë§¤ìš° í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ì› ë‹¤.

ê·¸ë˜ì„œ ë‹¤ìŒê³¼ ê°™ì´ í†µí•© í…ŒìŠ¤íŠ¸ë¡œ ì¸ì¦ì„ ë„£ì€ ê²½ìš°ì™€ ì•ˆ ë„£ì€ ê²½ìš°ë¥¼ ì¶”ê°€ë¡œ í…ŒìŠ¤íŠ¸í–ˆì—ˆë‹¤.

```java
@Test
  void findCartItems() throws Exception {
    given(productService.findById(any())).willReturn(List.of(
            new CartItemResponse(1, new ProductEntity(1L, "ì¹˜í‚¨", "chicken", 10000)),
            new CartItemResponse(2, new ProductEntity(2L, "í”¼ì", "pizza", 20000))));

    mockMvc.perform(get("/carts")
            .header(AUTHORIZATION, BASIC_TYPE + Base64Coder.encodeString(EMAIL + DELIMITER + PASSWORD)))
        .andExpect(status().isOk())
        .andExpect(jsonPath("$.size()").value(2));
  }

  @Test
  void noAuthentication() throws Exception {
    given(memberDao.findByMemberEntity(any())).willReturn(
        Optional.empty());

    mockMvc.perform(get("/carts")
            .header(AUTHORIZATION, BASIC_TYPE + Base64Coder.encodeString(EMAIL + DELIMITER + INVALID_PASSWORD)))
        .andExpect(status().isUnauthorized());
  }
```

í•˜ì§€ë§Œ ArgumentResolverë¥¼ êµ¬ì„±í•˜ëŠ” í•µì‹¬ ë¡œì§ë§Œ ë”°ë¡œ ë¶„ë¦¬í•´ì„œ í…ŒìŠ¤íŠ¸í–ˆë‹¤ë©´ ì¢€ ë” ì‰½ê³  ì ì ˆí•˜ê²Œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆì—ˆì„ ê±° ê°™ë‹¤. ë‹¤ìŒì—ëŠ” í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš° ì¢€ ë” ì‘ê²Œ ë‚˜ëˆ ë³¼ ìƒê°ì„ í•´ì•¼ê² ë‹¤!

## dao ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìˆœìˆ˜í•˜ê²Œ?

daoì—ì„œ ì–´ëŠ ë©”ì„œë“œë¥¼ í…ŒìŠ¤íŠ¸í•  ë•Œ ë‹¤ë¥¸ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ìˆœìˆ˜í•˜ê²Œ ê·¸ ë©”ì„œë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ê³  ìƒê°í–ˆë‹¤. ê·¸ë˜ì„œ í•˜ë‚˜ì˜ ë©”ì„œë“œë§Œ ìˆœìˆ˜í•˜ê²Œ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ jdbcTemplateìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ë‚ ë ¸ë‹¤. 

```java
    @Test
    void save() {
        //when
        h2ProductDao.save(productEntity);

        //then
        final List<ProductEntity> productEntities = getProducts();
        final ProductEntity actual = productEntities.get(0);

        //then
        assertThat(productEntities).hasSize(1);
        assertThat(actual)
            .usingRecursiveComparison()
            .ignoringFields("id")
            .isEqualTo(productEntity);
    }

    private List<ProductEntity> getProducts() {
        final String sql = "select * from product";
        final List<ProductEntity> productEntities = namedParameterjdbcTemplate.getJdbcOperations().query(sql, (resultSet, count) ->
                new ProductEntity(
                        resultSet.getLong("id"),
                        resultSet.getString("name"),
                        resultSet.getString("image_url"),
                        resultSet.getInt("price")
                ));
        return productEntities;
    }
```

ê·¸ëŸ°ë° ìœ„ ê²½ìš°ì—ëŠ” ê°„ë‹¨í•´ì„œ ê´œì°®ì€ë° ë‚˜ì¤‘ì— ì €ì¥í•´ì•¼ í•˜ëŠ” ì—°ê´€ ê°ì²´ê°€ ë§ì•„ì§ˆ ê²½ìš° ì¿¼ë¦¬ë„ ë¬´ìˆ˜í•˜ê²Œ ë§ì•„ì§ˆ í…ë° ê·¸ ë¹„ìš©ì„ ê°ìˆ˜í•´ì„œë¼ë„ ìˆœìˆ˜í•˜ê²Œ ì¿¼ë¦¬ë¥¼ ë‚ ë¦¬ëŠ” ê²Œ ë§ëŠ” ê±¸ê¹Œë¼ëŠ” ì˜ë¬¸ì´ ë“¤ì—ˆë‹¤. ê·¸ë ‡ê²Œ ê³ ë¯¼í•˜ë˜ ì¤‘ ë¬¸ëœ© "ë‹¤ë¥¸ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ìƒê°í•˜ê¸° ì „ì— ìš°ì„  ì§€ê¸ˆ @JdbcTestë¥¼ ì´ìš©í•´ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•´ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²Œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ ë§ë‚˜?"ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.

ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë³´ë‹¨ í†µí•© í…ŒìŠ¤íŠ¸ì— ê°€ê¹Œìš´ ê±° ê°™ì•„ì„œ ë‹¤ë¥¸ ë©”ì„œë“œë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸í•´ë„ ì¶©ë¶„í•  ê²ƒ ê°™ë‹¤. 

```java
    @Test
    void save() {
        //when
        h2ProductDao.save(productEntity);

        //then
        final List<ProductEntity> productEntities = h2ProductDao.findAll();
        final ProductEntity actual = productEntities.get(0);

        assertThat(productEntities).hasSize(1);
        assertThat(actual)
            .usingRecursiveComparison()
            .ignoringFields("id")
            .isEqualTo(productEntity);
    }
```

ë§Œì•½ì— ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¡œ ì§„í–‰í•˜ê³  ì‹¶ë‹¤ë©´ jdbcTemplateì„ mock í•´ì„œ ì•ˆì˜ ë¡œì§ë“¤ì´ ì œëŒ€ë¡œ ì‹¤í–‰ëœ ì§€ verifyë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.

--- 

+ë¦¬ë·°ì–´ë‹˜ê»˜ ë°›ì€ ì½”ë“œ ë¦¬ë·°ì— ëŒ€í•´ ê´€ì‹¬ì´ ìˆìœ¼ë©´ ë‹¤ìŒ PRë“¤ì„ ì°¸ê³ !
- [1ë‹¨ê³„ - ìƒí’ˆ ê´€ë¦¬ ê¸°ëŠ¥](https://github.com/woowacourse/jwp-shopping-cart/pull/225)
- [2ë‹¨ê³„ - ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥](https://github.com/woowacourse/jwp-shopping-cart/pull/279)

---
ì°¸ê³ :
- [https://developers.google.com/tech-writing/error-messages#learning_objectives](https://developers.google.com/tech-writing/error-messages)


*í‹€ë¦° ë¶€ë¶„ì´ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ë§ì”€í•´ ì£¼ì‹œë©´ ê³µë¶€í•´ì„œ ìˆ˜ì •í•˜ê² ìŠµë‹ˆë‹¤.