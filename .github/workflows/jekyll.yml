name: Jekyll build & deploy

on: push

jobs:
  build_and_deploy:

    runs-on: ubuntu-latest

    steps:
      - name: ðŸ›Ž Check out
        uses: actions/checkout@v3.0.1
      # Use GitHub Actions' cache to shorten build times and decrease load on servers
      - name: Cache
        uses: actions/cache@v2
        with:
          path: vendor/bundle
          key: ${{ runner.os }}-gems-${{ hashFiles('**/Gemfile') }}
          restore-keys: |
            ${{ runner.os }}-gems-
      - name: build and deploy
        uses: jeffreytse/jekyll-deploy-action@v0.3.1
        with:
          provider: 'github'
          token: ${{ secrets.JEKYLL_PAT }} # It's your Personal Access Token(PAT)
          repository: 'parkmuhyeun/parkmuhyeun.github.io'             # Default is current repository
          branch: 'master'         # Default is gh-pages for github provider
